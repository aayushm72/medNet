@using MedNet.Models
@model PatientEditProfileViewModel
@{
    ViewData["Title"] = "Patient Edit Profile";
}

@section NavButtons {
    <a href="PatientOverview" class="topnav-lbtn topnav-first">Home</a>
    <a href="Logout" class="topnav-rbtn">Logout</a>
}

<!--DEBUG:
    - cannot find type Prov
    - write javascript/jquery to enable/disable textbox with radio button check
    - write javascript to fill in textboxes that the patient already filled in
    - Model.Relationships not working for radio button
    - Add user-input list for Allergies, Daily Medications, Medical History
-->

<body>
    <div class="content-full">
        <div class="row">
            <div class="form-reg col-sm-10 col-md-8 col-lg-7 col-xl-6">
                <div class="card">
                    <div class="card-header">
                        <h3>General Information</h3>
                    </div>
                    <div class="card-body">
                        <form>
                            <!-- name -->
                            <div class="form-group">
                                <label for="patientName">Name</label>
                                <div class="form-row">
                                    <div class="col">
                                        @Html.TextBoxFor(n => n.FirstName, new { placeholder = "First Name", @class = "form-control", @readonly = "readonly" })
                                    </div>
                                    <div class="col">
                                        @Html.TextBoxFor(n => n.LastName, new { placeholder = "Last Name", @class = "form-control", @readonly = "readonly" })
                                    </div>
                                </div>
                            </div>
                            <!-- age -->
                            <div class="form-row">
                                <!-- date of birth-->
                                <div class="form-group col-sm-9">
                                    <label>Date of Birth</label>
                                    @Html.TextBoxFor(n => n.DateOfBirth, new { id = "DateOfBirth", type = "date", max = "2020-04-01", @class = "form-control", @readonly = "readonly" })
                                </div>
                                <div class="form-group col-sm-3">
                                    <label>Age</label>
                                    @Html.TextBoxFor(n => n.Age, new { id = "Age", type = "number", @class = "form-control", @readonly = "readonly" })
                                </div>
                            </div>
                            <!-- email-->
                            <div class="form-group">
                                <label>Email</label>
                                @Html.TextBoxFor(n => n.Email, new { placeholder = "Email", type = "email", @class = "form-control" })
                                <small id="emailHelp" class="form-text text-muted">Your email, Our secret.</small>
                            </div>
                            <!-- phone -->
                            <div class="form-group">
                                <label>Phone</label>
                                @Html.TextBoxFor(n => n.Phone, new { placeholder = "###-###-####", type = "tel", @class = "form-control" })
                                <small id="phoneHelp" class="form-text text-muted">Example: 604-999-9999</small>
                            </div>
                            <!-- address info -->
                            <div class="form-group">
                                <label>Address</label>
                                @Html.TextBoxFor(n => n.Address, new { placeholder = "Address", type = "text", @class = "form-control" })
                            </div>
                            <div class="form-row">
                                <div class="form-group col-sm-6">
                                    <label>City</label>
                                    @Html.TextBoxFor(n => n.City, new { placeholder = "City", type = "text", @class = "form-control" })
                                </div>
                                <div class="form-group col-sm-3">
                                    <label>Province</label>
                                    <!--DEBUG: cannot find type Prov-->
                                    @*@Html.DropDownListFor(n => n.Province, new SelectList(Enum.GetValues(typeof(Prov))), "Select Province")*@
                                </div>
                                <div class="form-group col-sm-3">
                                    <label>Postal</label>
                                    @Html.TextBoxFor(n => n.Postal, new { type = "text", @class = "form-control" })
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="form-reg col-sm-10 col-md-8 col-lg-7 col-xl-6">
                <div class="card">
                    <div class="card-header">
                        <h3>Emergency Contact</h3>
                    </div>
                    <div class="card-body">
                        <form>
                            <div class="form-group">
                                <label>Name</label>
                                <!-- name -->
                                <div class="form-row">
                                    <div class="col">
                                        @Html.TextBoxFor(n => n.emerFirstName, new { placeholder = "First Name", type = "text", @class = "form-control" })
                                    </div>
                                    <div class="col">
                                        @Html.TextBoxFor(n => n.emerLastName, new { placeholder = "Last Name", type = "text", @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                            <!-- phone -->
                            <div class="form-group">
                                <label>Phone</label>
                                @Html.TextBoxFor(n => n.emerPhone, new { placeholder = "###-###-####", type = "tel", @class = "form-control" })
                                <small id="phoneHelp" class="form-text text-muted">Example: 604-999-9999</small>
                            </div>
                            <!-- address info -->
                            <div class="form-group">
                                <label>Address</label>
                                @Html.TextBoxFor(n => n.emerAddress, new { placeholder = "Address", type = "text", @class = "form-control" })
                            </div>

                            <div class="form-row">
                                <div class="form-group col-sm-6">
                                    <label>City</label>
                                    @Html.TextBoxFor(n => n.emerCity, new { placeholder = "City", type = "text", @class = "form-control" })
                                </div>
                                <div class="form-group col-sm-3">
                                    <label>Province</label>
                                    <!--DEBUG: cannot find type Prov-->
                                    @*@Html.DropDownListFor(n => n.emerProvince, new SelectList(Enum.GetValues(typeof(Prov))), "Select Province")*@
                                </div>
                                <div class="form-group col-sm-3">
                                    <label>Postal</label>
                                    @Html.TextBoxFor(n => n.Postal, new { type = "text", @class = "form-control" })
                                </div>
                            </div>
                            <!-- Emergency relationship -->

                            <div class="form-group">
                                <label>Relationship</label>
                                <!-- DEBUG: Model.Relationships not working for radio button-->
                                @*@foreach (var relationship in @Model.Relationships)
                                    {
                                        @Html.RadioButtonFor(model => model.Relationship, relationship) @relationship<br />
                                    }*@
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="form-reg col-sm-10 col-md-8 col-lg-7 col-xl-6">
                <div class="card">
                    <div class="card-header">
                        <h3>Allergies</h3>
                    </div>
                    <div class="card-body">
                        <!-- Add single elements to list-->
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="form-reg col-sm-10 col-md-8 col-lg-7 col-xl-6">
                <div class="card">
                    <div class="card-header">
                        <h3>Daily Medications</h3>
                    </div>
                    <div class="card-body">
                        <form>
                            <!-- Add single elements to list -->
                        </form>
                    </div>
                </div>

            </div>
        </div>

        <div class="row">
            <div class="form-reg col-sm-10 col-md-8 col-lg-7 col-xl-6">
                <div class="card">
                    <div class="card-header">
                        <h3>Medical History</h3>
                    </div>
                    <div class="card-body">
                        <!-- Add single elements to list-->
                    </div>
                </div>
            </div>
        </div>

    </div>
</body>

@section Scripts {
    <!-- Enable text box when radio is checked -->
    <script type="text/javascript">
        function toggleTextbox() {
            var btn = document.getElementById("patientOther");
            var txt = document.getElementById("emerOtherText");
            txt.disabled = btn.checked ? false : true;
            if (!txt.disabled) {
                txt.focus();
            }
        }
    </script>
}
